---
alwaysApply: false
description: Describe how to structure and organize each feature
---

# Feature Structure

**Objective**: Define the standard internal structure of a feature to ensure consistency and autonomy.

**Context**: To apply for structuring projects according to a feature-first approach.

## Explanation

Each feature is an autonomous folder that groups everything necessary for its operation: components, hooks, services, utils, data, types.

**Standard feature structure:**

```
features/[feature-name]/
 ├─ components/       # React components specific to this feature
 ├─ hooks/            # Custom hooks (useCalendar, usePayment, etc.)
 ├─ services/         # API calls and business logic
 ├─ utils/            # Internal utility functions for the feature
 ├─ data/             # Static data (JSON, mocks)
 ├─ types.ts          # Specific TypeScript types
 └─ index.ts          # Barrel to export everything that is public
```

**Rules:**

- The folder name is **singular** (`calendar`, `payment`, not `calendars`).
- All feature files are in **kebab-case** (`payment-form.tsx`).
- The `index.ts` only exposes what should be consumed by other parts of the code.
- Imports from outside are done via the feature root:

```ts
import { useCalendar, ClientCalendar } from "@/features/calendar";
```

- If a function or component is used by multiple features, it must be moved to `ui/`, `lib/` or `utils/`.

## Practical Implementation Example

```
features/calendar/
 ├─ components/
 │   ├─ calendar-grid.tsx
 │   ├─ calendar-event.tsx
 │   └─ index.ts
 ├─ hooks/
 │   ├─ use-calendar.ts
 │   └─ index.ts
 ├─ services/
 │   ├─ calendar-api.ts
 │   └─ index.ts
 ├─ utils/
 │   ├─ format-date.ts
 │   └─ index.ts
 ├─ data/
 │   └─ default-events.json
 ├─ types.ts
 └─ index.ts
```

**Feature `index.ts` file:**

```ts
export { CalendarGrid, CalendarEvent } from "./components";
export { useCalendar } from "./hooks";
export { fetchEvents, createEvent } from "./services";
export type { CalendarEvent, CalendarFilters } from "./types";
```

## Variants or Exceptions

- Very simple features (< 3 files) can be condensed into a single file.
- Complex sub-features can have their own subfolder in `features/` (e.g.: `features/payment/stripe/`).

## Links / References

- [Feature-First Architecture](https://khalilstemmler.com/articles/software-design-architecture/feature-driven/)
- Internal documentation: `references.md`
