---
id: deployment/vercel
category: deployment
title: Vercel
status: draft
tags: [vercel, deployment, hosting, nextjs]
---

# Vercel

**Objective**: Frame automatic deployment and Vercel configuration for Next.js projects.
**Context**: To be applied for deployment and continuous integration stages.

## Explanation

Vercel is the preferred deployment platform for Next.js projects. It offers:
- Automatic deployment on every push.
- Automatic previews for each PR.
- Environment management (production, preview, development).
- Secure environment variables per environment.
- Edge functions and native Next.js optimizations.

**Deployment logic:**
- `main` → Production (main project URL)
- `dev` → Staging (stable development URL)
- `feature/*` → Preview (unique temporary URL per PR)

**Configuration:**
- `vercel.json` file at the project root.
- Environment variables managed via Vercel dashboard.
- Build settings configured in the dashboard or via `vercel.json`.

## Practical Implementation Example

**vercel.json :**

```json
{
  "buildCommand": "npm run build",
  "outputDirectory": ".next",
  "framework": "nextjs",
  "installCommand": "npm ci",
  "devCommand": "npm run dev",
  "regions": ["iad1"],
  "cleanUrls": true,
  "trailingSlash": false
}
```

**Vercel project configuration:**

```
Framework Preset: Next.js
Root Directory: ./
Build Command: npm run build
Output Directory: .next
Install Command: npm ci
Development Command: npm run dev
Node.js Version: 20.x
```

**Deployment branches:**

```
Production Branch: main
Git Integration: Enabled
Preview Branches: All branches
Ignored Build Step: None
```

**.vercelignore :**

```
node_modules
.git
.env.local
.DS_Store
coverage
.next/cache
```

## Variants or Exceptions

- **Custom domains**: Configure in Vercel Dashboard → Domains.
- **Redirects**: Add in `vercel.json` or `next.config.js`.
- **Custom headers**: Define in `vercel.json` or `next.config.js`.
- **Serverless functions**: Configure timeouts and regions via `vercel.json`.
- **Monorepo**: Use `vercel.json` with `rootDirectory` to target a sub-project.
- **Disable previews**: Useful to avoid unnecessary deployments on certain branches.

## Links / References

- [Vercel Documentation](https://vercel.com/docs)
- [Next.js on Vercel](https://vercel.com/docs/frameworks/nextjs)
- [vercel.json Configuration](https://vercel.com/docs/projects/project-configuration)
- Internal documentation: `.cursor/docs/references.md`
