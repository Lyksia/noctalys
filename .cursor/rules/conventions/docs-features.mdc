---
alwaysApply: false
description: Document each feature in a dedicated Markdown file
---

# Feature Documentation

**Objective**: Document each feature in a dedicated Markdown file to facilitate understanding and maintenance.

**Context**: To apply for unifying code style and conventions.

## Explanation

Each feature must have its own `README.md` file that documents its architecture, components, hooks, and usage.

**Rules:**

- **1 README per feature**: in `features/[name]/README.md`.
- **Language**: English only.
- **Standard structure**: title, description, architecture, API, examples.
- **Keep updated**: maintain documentation up to date with code.

## Practical Implementation Example

**Structure of a feature README:**

```md
# Calendar Feature

## Overview

This feature provides a full-featured calendar with event management, drag-and-drop support, and multiple view modes (day, week, month, year).

## Architecture

```
calendar/
 ├─ components/         # React components
 │   ├─ calendar-grid.tsx
 │   ├─ calendar-event.tsx
 │   └─ calendar-header.tsx
 ├─ hooks/              # Custom hooks
 │   ├─ use-calendar.ts
 │   └─ use-calendar-events.ts
 ├─ services/           # API calls
 │   └─ calendar-api.ts
 ├─ utils/              # Helper functions
 │   └─ date-utils.ts
 ├─ types.ts            # TypeScript types
 └─ constants.ts        # Feature constants
```

## Components

### CalendarGrid

Main calendar component displaying events in a grid layout.

**Props:**
- `events: CalendarEvent[]` - Array of events to display
- `view: CalendarView` - Current view mode (day/week/month/year)
- `onEventClick?: (event: CalendarEvent) => void` - Callback when event is clicked
- `onDateClick?: (date: Date) => void` - Callback when date cell is clicked

**Example:**
```tsx
import { CalendarGrid } from "@/features/calendar";

<CalendarGrid 
  events={events} 
  view="month"
  onEventClick={handleEventClick}
/>
```

### CalendarEvent

Individual event component with drag-and-drop support.

**Props:**
- `event: CalendarEvent` - Event data
- `draggable?: boolean` - Enable drag-and-drop
- `onClick?: () => void` - Click handler

## Hooks

### useCalendar

Main hook for managing calendar state.

**Returns:**
- `currentDate: Date` - Currently displayed date
- `view: CalendarView` - Current view mode
- `goToNext: () => void` - Navigate to next period
- `goToPrev: () => void` - Navigate to previous period
- `goToToday: () => void` - Jump to today
- `setView: (view: CalendarView) => void` - Change view mode

**Example:**
```ts
const { currentDate, view, goToNext, goToPrev } = useCalendar();
```

### useCalendarEvents

Hook for fetching and managing calendar events.

**Parameters:**
- `filters?: CalendarFilters` - Optional filters

**Returns:**
- `events: CalendarEvent[]` - Array of events
- `isLoading: boolean` - Loading state
- `error: Error | null` - Error state
- `refetch: () => void` - Manually refetch events

**Example:**
```ts
const { events, isLoading } = useCalendarEvents({ 
  startDate: startOfMonth(new Date()),
  endDate: endOfMonth(new Date())
});
```

## Services

### fetchEvents

Fetches calendar events for a given date range.

```ts
const events = await fetchEvents({
  startDate: new Date('2024-01-01'),
  endDate: new Date('2024-01-31')
});
```

### createEvent

Creates a new calendar event.

```ts
const event = await createEvent({
  title: "Team Meeting",
  startDate: new Date('2024-01-15T10:00:00'),
  endDate: new Date('2024-01-15T11:00:00')
});
```

### updateEvent

Updates an existing event.

```ts
await updateEvent(eventId, {
  title: "Updated Meeting"
});
```

### deleteEvent

Deletes an event.

```ts
await deleteEvent(eventId);
```

## Types

```ts
interface CalendarEvent {
  id: string;
  title: string;
  startDate: Date;
  endDate: Date;
  description?: string;
  color?: string;
  allDay?: boolean;
}

type CalendarView = "day" | "week" | "month" | "year";

interface CalendarFilters {
  startDate?: Date;
  endDate?: Date;
  category?: string;
}
```

## Usage Example

```tsx
import { 
  CalendarGrid, 
  useCalendar, 
  useCalendarEvents 
} from "@/features/calendar";

export function CalendarPage() {
  const { currentDate, view, goToNext, goToPrev } = useCalendar();
  const { events, isLoading } = useCalendarEvents();

  if (isLoading) return <div>Loading...</div>;

  return (
    <div>
      <header>
        <button onClick={goToPrev}>Previous</button>
        <h1>{currentDate.toLocaleDateString()}</h1>
        <button onClick={goToNext}>Next</button>
      </header>
      <CalendarGrid 
        events={events} 
        view={view}
      />
    </div>
  );
}
```

## Testing

All components and hooks are tested with Vitest and React Testing Library.

Run tests:
```bash
npm test calendar
```

Coverage:
- Components: 95%
- Hooks: 100%
- Services: 90%

## Dependencies

- `date-fns` - Date manipulation
- `@tanstack/react-query` - Data fetching
- `@dnd-kit/core` - Drag and drop

## Future Improvements

- [ ] Add recurring events support
- [ ] Implement event reminders
- [ ] Add calendar sync with Google Calendar
- [ ] Support for multiple calendars

## Related Features

- [Notifications](../notifications/README.md) - Event reminders
- [Users](../users/README.md) - Event attendees
```

**Minimal README:**

```md
# Authentication Feature

## Overview

User authentication with email/password and social login (Google, GitHub).

## Components

- `LoginForm` - Email/password login form
- `SignupForm` - User registration form
- `SocialLoginButtons` - Social login buttons

## Hooks

- `useAuth()` - Current user and auth methods
- `useLogin()` - Login mutation
- `useSignup()` - Signup mutation

## Services

- `loginUser(credentials)` - Login with email/password
- `signupUser(data)` - Create new account
- `logoutUser()` - Logout current user

## Usage

```tsx
import { useAuth } from "@/features/auth";

const { user, login, logout } = useAuth();

if (!user) {
  return <LoginForm />;
}

return <Dashboard user={user} />;
```
```

**README with diagrams:**

```md
# Payment Feature

## Architecture

```mermaid
graph TD
    A[User] --> B[Checkout Component]
    B --> C[Stripe Element]
    C --> D[Create Payment Intent]
    D --> E[Stripe API]
    E --> F[Webhook]
    F --> G[Update Order Status]
```

## Flow

1. User clicks "Checkout"
2. Frontend creates payment intent via API
3. Stripe Elements collect payment details
4. Payment is processed by Stripe
5. Webhook confirms payment
6. Order status is updated
7. User receives confirmation
```

**Table of contents:**

```md
# E-commerce Feature

## Table of Contents

- [Overview](#overview)
- [Architecture](#architecture)
- [Components](#components)
  - [ProductList](#productlist)
  - [ProductCard](#productcard)
  - [Cart](#cart)
- [Hooks](#hooks)
- [Services](#services)
- [Types](#types)
- [Usage](#usage)
- [Testing](#testing)
```

## Variants or Exceptions

- Very simple features (< 3 files) can omit the README.
- Internal projects may have less documentation than open-source projects.

## Links / References

- [Markdown Guide](https://www.markdownguide.org/)
- [Mermaid Diagrams](https://mermaid.js.org/)
- Internal documentation: `references.md`
