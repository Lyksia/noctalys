---
alwaysApply: false
description: React best practices (hooks, components, composition)
---

# React

**Objective**: Standardize React usage by adopting hooks, composition, and modern best practices.

**Context**: To apply for standardizing the use of this technology in projects.

## Explanation

React is the UI library used for all projects. Prioritize **functional components**, **hooks**, and **composition** over inheritance.

**Key Principles:**

- **Functional components only**: no classes.
- **Hooks**: use React hooks (`useState`, `useEffect`, etc.) and create custom hooks.
- **Composition**: compose components rather than using inheritance.
- **Props**: always type props with TypeScript.
- **Pure components**: avoid side effects in rendering.
- **Naming**: components in PascalCase, hooks prefixed with `use`.

**Internal structure of a component:**

1. Imports (external → internal → relative)
2. Types / interfaces
3. Internal constants
4. Component declaration
5. React hooks
6. Internal functions (handlers)
7. Return (JSX)

## Practical Implementation Example

**Well-structured component:**

```ts
// src/features/calendar/components/calendar-grid.tsx
import { useState, useEffect } from "react";
import { Button } from "@/components/ui";
import { useCalendar } from "../hooks";
import type { CalendarEvent } from "../types";

interface CalendarGridProps {
  events: CalendarEvent[];
  onEventClick?: (event: CalendarEvent) => void;
}

const GRID_COLUMNS = 7;

export function CalendarGrid({ events, onEventClick }: CalendarGridProps) {
  const [selectedDate, setSelectedDate] = useState<Date | null>(null);
  const { currentMonth, goToNextMonth, goToPrevMonth } = useCalendar();

  useEffect(() => {
    // Sync with external state if needed
  }, [currentMonth]);

  const handleDateClick = (date: Date) => {
    setSelectedDate(date);
  };

  return (
    <div className="calendar-grid">
      <header>
        <Button onClick={goToPrevMonth}>Previous</Button>
        <h2>{currentMonth}</h2>
        <Button onClick={goToNextMonth}>Next</Button>
      </header>
      <div className="grid">
        {events.map((event) => (
          <div key={event.id} onClick={() => onEventClick?.(event)}>
            {event.title}
          </div>
        ))}
      </div>
    </div>
  );
}
```

**Custom hook:**

```ts
// src/features/calendar/hooks/use-calendar.ts
import { useState } from "react";

export function useCalendar() {
  const [currentMonth, setCurrentMonth] = useState<Date>(new Date());

  const goToNextMonth = () => {
    setCurrentMonth((prev) => {
      const next = new Date(prev);
      next.setMonth(next.getMonth() + 1);
      return next;
    });
  };

  const goToPrevMonth = () => {
    setCurrentMonth((prev) => {
      const prev = new Date(prev);
      prev.setMonth(prev.getMonth() - 1);
      return prev;
    });
  };

  return { currentMonth, goToNextMonth, goToPrevMonth };
}
```

**Composition:**

```ts
// Composition over inheritance
export function Card({ children }: { children: React.ReactNode }) {
  return <div className="card">{children}</div>;
}

export function CardHeader({ children }: { children: React.ReactNode }) {
  return <div className="card-header">{children}</div>;
}

export function CardContent({ children }: { children: React.ReactNode }) {
  return <div className="card-content">{children}</div>;
}

// Usage
<Card>
  <CardHeader>Title</CardHeader>
  <CardContent>Content here</CardContent>
</Card>
```

## Variants or Exceptions

- Very simple components can omit certain sections (e.g., no handlers if no events).
- Next.js Server Components don't use hooks (except in Client Components).

## Links / References

- [React Hooks](https://react.dev/reference/react)
- [Thinking in React](https://react.dev/learn/thinking-in-react)
- [Composition vs Inheritance](https://react.dev/learn/thinking-in-react#step-3-find-the-minimal-but-complete-representation-of-ui-state)
